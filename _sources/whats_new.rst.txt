.. _whats_new:

What's new
**********

A catalog of new features, improvements, and bug-fixes in each release.
Follow links to the relevant GitHub issue or pull request for specific
code changes and any related discussion.

Future
------
In Progress
===========
- `PR #373 <https://github.com/scikit-beam/scikit-beam/pull/373>`_: Major overhaul of the docs
- `PR #403 <https://github.com/scikit-beam/scikit-beam/pull/401>`_: Adding four time correlation

`v0.0.10 <https://github.com/scikit-beam/scikit-beam/tree/v0.0.10>`__ (2017-01-09)
----------------------------------------------------------------------------------

`Full
Changelog <https://github.com/scikit-beam/scikit-beam/compare/v0.0.9...v0.0.10>`__

**Closed issues:**

-  ENH: make ``BinnedStatisticDD`` statistic in call
   `#481 <https://github.com/scikit-beam/scikit-beam/issues/481>`__

**Merged pull requests:**

-  `#482 <https://github.com/scikit-beam/scikit-beam/pull/482>`__
   Modify the computed statistic on calling BinnedStatisticDD instances
   (`CJ-Wright <https://github.com/CJ-Wright>`__)
-  `#479 <https://github.com/scikit-beam/scikit-beam/pull/479>`__
   Include API docs for more of the modules
   (`danielballan <https://github.com/danielballan>`__)
-  `#478 <https://github.com/scikit-beam/scikit-beam/pull/478>`__
   Minor speed gains for skbeam.core.image.construct_circ_avg_image
   (`ordirules <https://github.com/ordirules>`__)
-  `#477 <https://github.com/scikit-beam/scikit-beam/pull/477>`__
   Use fabio for fit2d IO
   (`CJ-Wright <https://github.com/CJ-Wright>`__)
-  `#476 <https://github.com/scikit-beam/scikit-beam/pull/476>`__
   Ensure automasking mask is boolean
   (`ordirules <https://github.com/ordirules>`__)
-  `#475 <https://github.com/scikit-beam/scikit-beam/pull/475>`__
   Make the image center a float and other associated changes
   (`ordirules <https://github.com/ordirules>`__)
-  `#474 <https://github.com/scikit-beam/scikit-beam/pull/474>`__
   Use explicit condarc for travis
   (`ericdill <https://github.com/ericdill>`__)
-  `#473 <https://github.com/scikit-beam/scikit-beam/pull/473>`__
   Simplify usage of 1D BinnedStatistic
   (`chrisvam <https://github.com/chrisvam>`__)


`v0.0.9 <https://github.com/scikit-beam/scikit-beam/tree/v0.0.9>`__ (2016-09-23)
--------------------------------------------------------------------------------

`Full
Changelog <https://github.com/scikit-beam/scikit-beam/compare/v0.0.8...v0.0.9>`__

**Closed issues:**

-  ENH: save masks in Fit2D format
   `#454 <https://github.com/scikit-beam/scikit-beam/issues/454>`__
-  copy size-checks of pull-requests from pyqtgraph
   `#420 <https://github.com/scikit-beam/scikit-beam/issues/420>`__
-  Issues about fitting summarized on Monday meeting 10/27/2014
   `#184 <https://github.com/scikit-beam/scikit-beam/issues/184>`__
-  Alignment algorithm for nano XRF tomography
   `#97 <https://github.com/scikit-beam/scikit-beam/issues/97>`__
-  Register 1-D curves: Fit, Scale & Shift
   `#44 <https://github.com/scikit-beam/scikit-beam/issues/44>`__
-  Automated builds with conda-forge
   `#443 <https://github.com/scikit-beam/scikit-beam/issues/443>`__

**Merged pull requests:**

-  `#470 <https://github.com/scikit-beam/scikit-beam/pull/470>`__
   added bin\_centers property
   (`ordirules <https://github.com/ordirules>`__)
-  `#469 <https://github.com/scikit-beam/scikit-beam/pull/469>`__
   don't use scipy.\_lib.six callable
   (`chrisvam <https://github.com/chrisvam>`__)
-  `#466 <https://github.com/scikit-beam/scikit-beam/pull/466>`__
   Generalize binning
   (`chrisvam <https://github.com/chrisvam>`__)
-  `#463 <https://github.com/scikit-beam/scikit-beam/pull/463>`__
   Add interpolation feature for masked circular averaged images
   (`ordirules <https://github.com/ordirules>`__)
-  `#462 <https://github.com/scikit-beam/scikit-beam/pull/462>`__
   Masking added to circular average as an option
   (`ordirules <https://github.com/ordirules>`__)
-  `#459 <https://github.com/scikit-beam/scikit-beam/pull/459>`__
   ENH: better circular average
   (`CJ-Wright <https://github.com/CJ-Wright>`__)
-  `#456 <https://github.com/scikit-beam/scikit-beam/pull/456>`__
   Fit2d save2
   (`CJ-Wright <https://github.com/CJ-Wright>`__)
-  `#453 <https://github.com/scikit-beam/scikit-beam/pull/453>`__
   Binstat cp
   (`tacaswell <https://github.com/tacaswell>`__)
-  `#451 <https://github.com/scikit-beam/scikit-beam/pull/451>`__
   CI: fix source of packages
   (`tacaswell <https://github.com/tacaswell>`__)
-  `#450 <https://github.com/scikit-beam/scikit-beam/pull/450>`__
   Hist cp
   (`tacaswell <https://github.com/tacaswell>`__)
-  `#445 <https://github.com/scikit-beam/scikit-beam/pull/445>`__
   ENH: Updates to allow sequential processing
   (`stuwilkins <https://github.com/stuwilkins>`__)
-  `#441 <https://github.com/scikit-beam/scikit-beam/pull/441>`__
   Unit change in xrf cross section
   (`licode <https://github.com/licode>`__)
-  `#438 <https://github.com/scikit-beam/scikit-beam/pull/438>`__
   Finish up and supersede #434
   (`ericdill <https://github.com/ericdill>`__)
-  `#435 <https://github.com/scikit-beam/scikit-beam/pull/435>`__
   ENH: Add edge and ring blur masks to scikit-beam
   (`CJ-Wright <https://github.com/CJ-Wright>`__)
-  `#432 <https://github.com/scikit-beam/scikit-beam/pull/432>`__
   DOC: Fixed reference
   (`stuwilkins <https://github.com/stuwilkins>`__)
-  `#428 <https://github.com/scikit-beam/scikit-beam/pull/428>`__
   BUG: took out the repeated labels parameter
   (`sameera2004 <https://github.com/sameera2004>`__)
-  `#426 <https://github.com/scikit-beam/scikit-beam/pull/426>`__
   Roi more
   (`sameera2004 <https://github.com/sameera2004>`__)
-  `#422 <https://github.com/scikit-beam/scikit-beam/pull/422>`__
   Convert reciprocal space and 3d grinder to OpenMP
   (`stuwilkins <https://github.com/stuwilkins>`__)
-  `#373 <https://github.com/scikit-beam/scikit-beam/pull/373>`__
   Doc rewrite
   (`tacaswell <https://github.com/tacaswell>`__)

v0.0.8
------
- `PR #395 <https://github.com/scikit-beam/scikit-beam/pull/395>`_: Compute one-time correlation from the results of two-time correlation
- `PR #401 <https://github.com/scikit-beam/scikit-beam/pull/401>`_: Remove bad images from X-Ray Speckle Visibility Spectroscopy (XSVS)
- `PR #404 <https://github.com/scikit-beam/scikit-beam/pull/404>`_: Implement gisaxs image conversion
- `PR #405 <https://github.com/scikit-beam/scikit-beam/pull/405>`_: Implement user peak, so users have more flexible control of escape peak or pileup peaks.
- `PR #407 <https://github.com/scikit-beam/scikit-beam/pull/407>`_: Clarify docstrings for correlation functions in skbeam.core.correlation
- `PR #408 <https://github.com/scikit-beam/scikit-beam/pull/408>`_: Rework the example notebook conversion in the scikit-beam docs.  The example notebooks are now grouped according to their folder in `scikit-beam-examples <http://github.com/scikit-beam/scikit-beam-examples>`__
- `PR #414 <https://github.com/scikit-beam/scikit-beam/pull/414>`_: Test for PEP8 compatibility on travis-ci. Enable flake8 coverage on scikit-beam. This will save code review time by allowing us to simply point at the failing flake8 test on travis-ci and say "Fix your code according to those things" instead of manually pointing out all the pep8 violations, like we do now.
- `PR #415 <https://github.com/scikit-beam/scikit-beam/pull/415>`_: Run the test suite through the `coverage run run_tests.py` command. This does a better job of capturing coverage stats
- `PR #416 <https://github.com/scikit-beam/scikit-beam/pull/416>`_: Build the docs as an extra matrix element on travis. This helps by reducing the sphinx output on travis-ci which makes it easier to find error messages in the test suite.
- `PR #417 <https://github.com/scikit-beam/scikit-beam/pull/417>`_: Don't compile the reciprocal space c extensions on windows. There are a multitude of errors in that code on the windows platform.
- `PR #419 <https://github.com/scikit-beam/scikit-beam/pull/419>`_: Add functions to create box and horizontal/vertical bar regions of interest.

v0.0.7
------
- Added multi-tau scheme two-time correlation. `PR #391 <https://github.com/scikit-beam/scikit-beam/pull/391>`_
  This two-time correlator can be found at `skbeam.core.correlation:two_time_corr`.
  There is a generator version that returns its internal state after consuming
  each image, `skbeam.core.correlation:lazy_two_time`. The value that the
  generator yields should be passed to `skbeam.core.correlation:two_time_state_to_results`
  to produce the correlation results and the lag steps that the correlation results
  correspond to.
- `PR #400 <https://github.com/scikit-beam/scikit-beam/pull/400>`_ Added
  removing bad images from multi-tau one time correlation.

  - Added new module `skbeam.core.mask`.
    It contains functions specific to mask or threshold an image
    basically to clean images. This module contains:

    - Convert the images marked as "bad" in bad list by their index in images into
      a np.nan array.
    - Set all pixels whose value is greater than `threshold` to 0 and yields the
      thresholded images out.


v0.0.6
------
- Partial data, generator implementation of one-time-correlation
- Rename from scikit-xray to scikit-beam and skxray->skbeam
- Add cython implementation of accumulating histograms
- Clean up the ctrans code
- Add multiprocessing single pixel fitting
- Automatically build the docs on traivs


v0.0.5
------

New Functionality
=================
* X-Ray Speckle Visibility Spectroscopy `PR 293 <https://github.com/scikit-beam/scikit-beam/pull/293>`_
* Fitting 1-time correlation data to ISF equation, `PR 295 <https://github.com/scikit-beam/scikit-beam/pull/295>`_
* Kymograph (aka waterfall plot), `PR  306 <https://github.com/scikit-beam/scikit-beam/pull/306>`_


API Changes
===========
* :func:`weighted_nnls_fit` was removed from :mod:`skbeam.core.fitting.xrf_model`.
  Weighted nnls fitting was combined into :func:`nnls_fit`, which includes
  weights as a new argument.

* :func:`extract_label_indices` is a helper function for labeled arrays and
  was moved to its new home in `skbeam.core.roi` from `skbeam.core.correlation`

Other updates
=============
* `PR 316 <https://github.com/scikit-beam/scikit-beam/pull/316>`_: Do a better
  job isolating dependencies so that our "optional" packages truly are optional
* `PR 319 <https://github.com/scikit-beam/scikit-beam/pull/319>`_: Use latest
  lmfit version published to scikit-beam anaconda.org channel in travis build
* `PR 326 <https://github.com/scikit-beam/scikit-beam/pull/326>`_:
  Add quick start guide and note about testing
* `PR 327 <https://github.com/scikit-beam/scikit-beam/pull/327>`_: Pin to lmfit
  0.8.3 in conda recipe
* `PR 332 <https://github.com/scikit-beam/scikit-beam/pull/332>`_: Correct the
  equation in the one-time correlation docstring
* `PR 333 <https://github.com/scikit-beam/scikit-beam/pull/333>`_: Update
  readme with new examples in `scikit-beam-examples <https://github.com/scikit-beam/scikit-beam-examples>`__
